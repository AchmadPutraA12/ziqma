import{r as m,q as w,W as N,j as e,y as P}from"./app-C07MtfD9.js";import{S as u}from"./SelectOptionCustom-CSUwiwcJ.js";import{B as h}from"./button-K6EJszCp.js";import{D as S,a as C,b as D,c as y,d as F}from"./dialog-LoRgiMNL.js";import{S as E}from"./square-pen-CxfHIGZw.js";import{P as O}from"./pen-CMKbJodX.js";import"./label-AaBqyT4Z.js";import"./index-DnQoircM.js";import"./circle-alert-CR7MK8J5.js";import"./createLucideIcon-BUGSgSYX.js";import"./index-dqQXyb1b.js";import"./index-Cs2ZRB6I.js";import"./Combination-DJiwtqFM.js";import"./x-bUUQcknQ.js";const X=({producRoomMockup:r})=>{const[x,l]=m.useState(!1),{rooms:g,productWithProductColor:f}=w().props,{data:t,setData:i,errors:n,processing:j,reset:W}=N({name:r.name,image:r.image,product_color_id:r.product_color_id,room_id:r.room_id});m.useEffect(()=>{i({...t,name:r.name,image:r.image,product_color_id:r.product_color_id,room_id:r.room_id})},[r]);const _=a=>{a.preventDefault(),P.post(route("admin.product-room-mockup.update",r.id),{...t,_method:"put",forceFormData:!0},{preserveScroll:!0,onSuccess:()=>{l(!1)}})},[d,c]=m.useState(null),v=a=>{const o=a.target.files[0];i({...t,image:o});const s=new FileReader;s.onloadend=()=>{c(s.result)},o?s.readAsDataURL(o):c(null)};return e.jsx(e.Fragment,{children:e.jsxs(S,{open:x,onOpenChange:l,children:[e.jsx(C,{asChild:!0,children:e.jsx(h,{variant:"outline",onClick:()=>l(!0),size:"sm",className:" hover:bg-orange-200 border-orange-500",children:e.jsx(E,{className:"h-4 w-4 text-orange-500"})})}),e.jsxs(D,{className:" max-w-[340px] z-[120] sm:max-w-[600px] h-[85vh] md:h-[65vh]  rounded-lg overflow-auto bg-white",children:[e.jsx(y,{children:e.jsx(F,{className:"py-3 text-xl",children:"Update Produk dan gambar mockup"})}),e.jsx("div",{className:"bg-white mt-2",children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"flex flex-col gap-4 ",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center  w-full justify-center mt-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{className:" object-cover h-52 w-60 border-2 rounded-xl",src:d||window.location.origin+"/storage/"+t.image}),e.jsx("label",{htmlFor:"foto",className:"font-semibold text-sm",children:e.jsx(O,{className:"absolute size-10 cursor-pointer text-white p-2 rounded-full bg-blue-500 -right-3 -bottom-3"})})]})}),e.jsx("div",{className:" items-center gap-2 hidden",children:e.jsx("input",{id:"foto",type:"file",className:"w-full px-4 py-2",name:"foto",onChange:a=>v(a)})}),e.jsx("span",{className:"text-red-600",children:n.image})]}),e.jsx(u,{variant:"wajib",optionName:"Pilih Ruangan",htmlFor:"room_id",labelName:"Ruangan",optionMap:g.map((a,o)=>e.jsx("option",{value:a.id,children:a.name},o)),errors:n.room_id,selectOptionProps:{name:"room_id",value:t.room_id,onChange:a=>{i({...t,room_id:a.target.value})}}})," ",e.jsx(u,{variant:"wajib",optionName:"Pilih Warna Produk",htmlFor:"product_color_id",labelName:"Warna Produk",optionMap:f.map((a,o)=>{var s;return e.jsx("optgroup",{label:a.name,children:(s=a.product_colors)==null?void 0:s.map((p,b)=>e.jsx("option",{value:p.id,children:p.name},b))},o)}),errors:n.product_color_id,selectOptionProps:{name:"product_color_id",value:t.product_color_id,onChange:a=>{i({...t,product_color_id:a.target.value})}}})]}),e.jsx("div",{className:"mt-8 w-full flex gap-4 items-center justify-end",children:e.jsx(h,{className:"w-1/2",disabled:j,type:"submit",children:"Save"})})]})})]})]})})};export{X as default};
