import{j as i,r as e,b as _e,q as Ze,y as Qe,a as be}from"./app-C07MtfD9.js";import{B as Je}from"./button-K6EJszCp.js";import{I as et}from"./input-D9iw22-Q.js";import{P as tt}from"./ProductLayout-Bhaz3GbZ.js";import{F as ot}from"./format-rupiah.esm-Dv-bfkK6.js";import{c as W,d as B,_ as P,$ as M,f as nt}from"./index-DnQoircM.js";import{$ as ct,c as Se,d as Ie,a as I,h as z,e as rt,f as at}from"./index-Cs2ZRB6I.js";import{a as st,$ as lt}from"./index-Dc8wDBL_.js";import{$ as it,h as dt,a as ft,R as ut,b as pt}from"./Combination-DJiwtqFM.js";import{$ as Te,a as mt,b as ht,c as gt}from"./index-CXXWCA7a.js";import{$ as xt}from"./tooltip-BWLUPqrP.js";import{C as Re}from"./chevron-down-vscwe3cg.js";import{c as $t}from"./createLucideIcon-BUGSgSYX.js";import{C as vt}from"./check-BxgRbf4y.js";import"./GuestLayout-DHhfQie2.js";/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=$t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function se({className:o,...n}){return i.jsx("div",{className:W("animate-pulse rounded-md bg-zinc-400",o),...n})}function ye(o,[n,t]){return Math.min(t,Math.max(n,o))}function bt(o){const n=e.useRef({value:o,previous:o});return e.useMemo(()=>(n.current.value!==o&&(n.current.previous=n.current.value,n.current.value=o),n.current.previous),[o])}const St=[" ","Enter","ArrowUp","ArrowDown"],yt=[" ","Enter"],ie="Select",[de,fe,Ct]=st(ie),[te,Po]=ct(ie,[Ct,Te]),ve=Te(),[Et,Y]=te(ie),[Nt,Pt]=te(ie),_t=o=>{const{__scopeSelect:n,children:t,open:c,defaultOpen:d,onOpenChange:u,value:s,defaultValue:r,onValueChange:l,dir:f,name:a,autoComplete:h,disabled:E,required:N}=o,g=ve(n),[$,S]=e.useState(null),[x,p]=e.useState(null),[v,oe]=e.useState(!1),k=lt(f),[ne=!1,T]=Se({prop:c,defaultProp:d,onChange:u}),[j,q]=Se({prop:s,defaultProp:r,onChange:l}),Z=e.useRef(null),G=$?!!$.closest("form"):!0,[A,F]=e.useState(new Set),K=Array.from(A).map(_=>_.props.value).join(";");return e.createElement(mt,g,e.createElement(Et,{required:N,scope:n,trigger:$,onTriggerChange:S,valueNode:x,onValueNodeChange:p,valueNodeHasChildren:v,onValueNodeHasChildrenChange:oe,contentId:Ie(),value:j,onValueChange:q,open:ne,onOpenChange:T,dir:k,triggerPointerDownPosRef:Z,disabled:E},e.createElement(de.Provider,{scope:n},e.createElement(Nt,{scope:o.__scopeSelect,onNativeOptionAdd:e.useCallback(_=>{F(L=>new Set(L).add(_))},[]),onNativeOptionRemove:e.useCallback(_=>{F(L=>{const V=new Set(L);return V.delete(_),V})},[])},t)),G?e.createElement(Me,{key:K,"aria-hidden":!0,required:N,tabIndex:-1,name:a,autoComplete:h,value:j,onChange:_=>q(_.target.value),disabled:E},j===void 0?e.createElement("option",{value:""}):null,Array.from(A)):null))},It="SelectTrigger",Tt=e.forwardRef((o,n)=>{const{__scopeSelect:t,disabled:c=!1,...d}=o,u=ve(t),s=Y(It,t),r=s.disabled||c,l=B(n,s.onTriggerChange),f=fe(t),[a,h,E]=Ae(g=>{const $=f().filter(p=>!p.disabled),S=$.find(p=>p.value===s.value),x=Le($,g,S);x!==void 0&&s.onValueChange(x.value)}),N=()=>{r||(s.onOpenChange(!0),E())};return e.createElement(ht,P({asChild:!0},u),e.createElement(M.button,P({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:r,"data-disabled":r?"":void 0,"data-placeholder":Oe(s.value)?"":void 0},d,{ref:l,onClick:I(d.onClick,g=>{g.currentTarget.focus()}),onPointerDown:I(d.onPointerDown,g=>{const $=g.target;$.hasPointerCapture(g.pointerId)&&$.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&(N(),s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)},g.preventDefault())}),onKeyDown:I(d.onKeyDown,g=>{const $=a.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!($&&g.key===" ")&&St.includes(g.key)&&(N(),g.preventDefault())})})))}),Rt="SelectValue",jt=e.forwardRef((o,n)=>{const{__scopeSelect:t,className:c,style:d,children:u,placeholder:s="",...r}=o,l=Y(Rt,t),{onValueNodeHasChildrenChange:f}=l,a=u!==void 0,h=B(n,l.onValueNodeChange);return z(()=>{f(a)},[f,a]),e.createElement(M.span,P({},r,{ref:h,style:{pointerEvents:"none"}}),Oe(l.value)?e.createElement(e.Fragment,null,s):u)}),kt=e.forwardRef((o,n)=>{const{__scopeSelect:t,children:c,...d}=o;return e.createElement(M.span,P({"aria-hidden":!0},d,{ref:n}),c||"â–¼")}),Dt=o=>e.createElement(it,P({asChild:!0},o)),ee="SelectContent",Ot=e.forwardRef((o,n)=>{const t=Y(ee,o.__scopeSelect),[c,d]=e.useState();if(z(()=>{d(new DocumentFragment)},[]),!t.open){const u=c;return u?_e.createPortal(e.createElement(je,{scope:o.__scopeSelect},e.createElement(de.Slot,{scope:o.__scopeSelect},e.createElement("div",null,o.children))),u):null}return e.createElement(Mt,P({},o,{ref:n}))}),H=10,[je,X]=te(ee),Mt=e.forwardRef((o,n)=>{const{__scopeSelect:t,position:c="item-aligned",onCloseAutoFocus:d,onEscapeKeyDown:u,onPointerDownOutside:s,side:r,sideOffset:l,align:f,alignOffset:a,arrowPadding:h,collisionBoundary:E,collisionPadding:N,sticky:g,hideWhenDetached:$,avoidCollisions:S,...x}=o,p=Y(ee,t),[v,oe]=e.useState(null),[k,ne]=e.useState(null),T=B(n,m=>oe(m)),[j,q]=e.useState(null),[Z,G]=e.useState(null),A=fe(t),[F,K]=e.useState(!1),_=e.useRef(!1);e.useEffect(()=>{if(v)return dt(v)},[v]),ft();const L=e.useCallback(m=>{const[y,...R]=A().map(b=>b.ref.current),[C]=R.slice(-1),w=document.activeElement;for(const b of m)if(b===w||(b==null||b.scrollIntoView({block:"nearest"}),b===y&&k&&(k.scrollTop=0),b===C&&k&&(k.scrollTop=k.scrollHeight),b==null||b.focus(),document.activeElement!==w))return},[A,k]),V=e.useCallback(()=>L([j,v]),[L,j,v]);e.useEffect(()=>{F&&V()},[F,V]);const{onOpenChange:Q,triggerPointerDownPosRef:U}=p;e.useEffect(()=>{if(v){let m={x:0,y:0};const y=C=>{var w,b,D,O;m={x:Math.abs(Math.round(C.pageX)-((w=(b=U.current)===null||b===void 0?void 0:b.x)!==null&&w!==void 0?w:0)),y:Math.abs(Math.round(C.pageY)-((D=(O=U.current)===null||O===void 0?void 0:O.y)!==null&&D!==void 0?D:0))}},R=C=>{m.x<=10&&m.y<=10?C.preventDefault():v.contains(C.target)||Q(!1),document.removeEventListener("pointermove",y),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",y),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",y),document.removeEventListener("pointerup",R,{capture:!0})}}},[v,Q,U]),e.useEffect(()=>{const m=()=>Q(!1);return window.addEventListener("blur",m),window.addEventListener("resize",m),()=>{window.removeEventListener("blur",m),window.removeEventListener("resize",m)}},[Q]);const[ue,re]=Ae(m=>{const y=A().filter(w=>!w.disabled),R=y.find(w=>w.ref.current===document.activeElement),C=Le(y,m,R);C&&setTimeout(()=>C.ref.current.focus())}),pe=e.useCallback((m,y,R)=>{const C=!_.current&&!R;(p.value!==void 0&&p.value===y||C)&&(q(m),C&&(_.current=!0))},[p.value]),me=e.useCallback(()=>v==null?void 0:v.focus(),[v]),J=e.useCallback((m,y,R)=>{const C=!_.current&&!R;(p.value!==void 0&&p.value===y||C)&&G(m)},[p.value]),ae=c==="popper"?Ce:At,ce=ae===Ce?{side:r,sideOffset:l,align:f,alignOffset:a,arrowPadding:h,collisionBoundary:E,collisionPadding:N,sticky:g,hideWhenDetached:$,avoidCollisions:S}:{};return e.createElement(je,{scope:t,content:v,viewport:k,onViewportChange:ne,itemRefCallback:pe,selectedItem:j,onItemLeave:me,itemTextRefCallback:J,focusSelectedItem:V,selectedItemText:Z,position:c,isPositioned:F,searchRef:ue},e.createElement(ut,{as:nt,allowPinchZoom:!0},e.createElement(pt,{asChild:!0,trapped:p.open,onMountAutoFocus:m=>{m.preventDefault()},onUnmountAutoFocus:I(d,m=>{var y;(y=p.trigger)===null||y===void 0||y.focus({preventScroll:!0}),m.preventDefault()})},e.createElement(rt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:s,onFocusOutside:m=>m.preventDefault(),onDismiss:()=>p.onOpenChange(!1)},e.createElement(ae,P({role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:m=>m.preventDefault()},x,ce,{onPlaced:()=>K(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:I(x.onKeyDown,m=>{const y=m.ctrlKey||m.altKey||m.metaKey;if(m.key==="Tab"&&m.preventDefault(),!y&&m.key.length===1&&re(m.key),["ArrowUp","ArrowDown","Home","End"].includes(m.key)){let C=A().filter(w=>!w.disabled).map(w=>w.ref.current);if(["ArrowUp","End"].includes(m.key)&&(C=C.slice().reverse()),["ArrowUp","ArrowDown"].includes(m.key)){const w=m.target,b=C.indexOf(w);C=C.slice(b+1)}setTimeout(()=>L(C)),m.preventDefault()}})}))))))}),At=e.forwardRef((o,n)=>{const{__scopeSelect:t,onPlaced:c,...d}=o,u=Y(ee,t),s=X(ee,t),[r,l]=e.useState(null),[f,a]=e.useState(null),h=B(n,T=>a(T)),E=fe(t),N=e.useRef(!1),g=e.useRef(!0),{viewport:$,selectedItem:S,selectedItemText:x,focusSelectedItem:p}=s,v=e.useCallback(()=>{if(u.trigger&&u.valueNode&&r&&f&&$&&S&&x){const T=u.trigger.getBoundingClientRect(),j=f.getBoundingClientRect(),q=u.valueNode.getBoundingClientRect(),Z=x.getBoundingClientRect();if(u.dir!=="rtl"){const w=Z.left-j.left,b=q.left-w,D=T.left-b,O=T.width+D,he=Math.max(O,j.width),ge=window.innerWidth-H,xe=ye(b,[H,ge-he]);r.style.minWidth=O+"px",r.style.left=xe+"px"}else{const w=j.right-Z.right,b=window.innerWidth-q.right-w,D=window.innerWidth-T.right-b,O=T.width+D,he=Math.max(O,j.width),ge=window.innerWidth-H,xe=ye(b,[H,ge-he]);r.style.minWidth=O+"px",r.style.right=xe+"px"}const G=E(),A=window.innerHeight-H*2,F=$.scrollHeight,K=window.getComputedStyle(f),_=parseInt(K.borderTopWidth,10),L=parseInt(K.paddingTop,10),V=parseInt(K.borderBottomWidth,10),Q=parseInt(K.paddingBottom,10),U=_+L+F+Q+V,ue=Math.min(S.offsetHeight*5,U),re=window.getComputedStyle($),pe=parseInt(re.paddingTop,10),me=parseInt(re.paddingBottom,10),J=T.top+T.height/2-H,ae=A-J,ce=S.offsetHeight/2,m=S.offsetTop+ce,y=_+L+m,R=U-y;if(y<=J){const w=S===G[G.length-1].ref.current;r.style.bottom="0px";const b=f.clientHeight-$.offsetTop-$.offsetHeight,D=Math.max(ae,ce+(w?me:0)+b+V),O=y+D;r.style.height=O+"px"}else{const w=S===G[0].ref.current;r.style.top="0px";const D=Math.max(J,_+$.offsetTop+(w?pe:0)+ce)+R;r.style.height=D+"px",$.scrollTop=y-J+$.offsetTop}r.style.margin=`${H}px 0`,r.style.minHeight=ue+"px",r.style.maxHeight=A+"px",c==null||c(),requestAnimationFrame(()=>N.current=!0)}},[E,u.trigger,u.valueNode,r,f,$,S,x,u.dir,c]);z(()=>v(),[v]);const[oe,k]=e.useState();z(()=>{f&&k(window.getComputedStyle(f).zIndex)},[f]);const ne=e.useCallback(T=>{T&&g.current===!0&&(v(),p==null||p(),g.current=!1)},[v,p]);return e.createElement(Lt,{scope:t,contentWrapper:r,shouldExpandOnScrollRef:N,onScrollButtonChange:ne},e.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:oe}},e.createElement(M.div,P({},d,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...d.style}}))))}),Ce=e.forwardRef((o,n)=>{const{__scopeSelect:t,align:c="start",collisionPadding:d=H,...u}=o,s=ve(t);return e.createElement(gt,P({},s,u,{ref:n,align:c,collisionPadding:d,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Lt,we]=te(ee,{}),Ee="SelectViewport",Bt=e.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o,d=X(Ee,t),u=we(Ee,t),s=B(n,d.onViewportChange),r=e.useRef(0);return e.createElement(e.Fragment,null,e.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),e.createElement(de.Slot,{scope:t},e.createElement(M.div,P({"data-radix-select-viewport":"",role:"presentation"},c,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:I(c.onScroll,l=>{const f=l.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:h}=u;if(h!=null&&h.current&&a){const E=Math.abs(r.current-f.scrollTop);if(E>0){const N=window.innerHeight-H*2,g=parseFloat(a.style.minHeight),$=parseFloat(a.style.height),S=Math.max(g,$);if(S<N){const x=S+E,p=Math.min(N,x),v=x-p;a.style.height=p+"px",a.style.bottom==="0px"&&(f.scrollTop=v>0?v:0,a.style.justifyContent="flex-end")}}}r.current=f.scrollTop})}))))}),Vt="SelectGroup",[_o,Ht]=te(Vt),Wt="SelectLabel",Ft=e.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o,d=Ht(Wt,t);return e.createElement(M.div,P({id:d.id},c,{ref:n}))}),$e="SelectItem",[Kt,ke]=te($e),Ut=e.forwardRef((o,n)=>{const{__scopeSelect:t,value:c,disabled:d=!1,textValue:u,...s}=o,r=Y($e,t),l=X($e,t),f=r.value===c,[a,h]=e.useState(u??""),[E,N]=e.useState(!1),g=B(n,x=>{var p;return(p=l.itemRefCallback)===null||p===void 0?void 0:p.call(l,x,c,d)}),$=Ie(),S=()=>{d||(r.onValueChange(c),r.onOpenChange(!1))};if(c==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.createElement(Kt,{scope:t,value:c,disabled:d,textId:$,isSelected:f,onItemTextChange:e.useCallback(x=>{h(p=>{var v;return p||((v=x==null?void 0:x.textContent)!==null&&v!==void 0?v:"").trim()})},[])},e.createElement(de.ItemSlot,{scope:t,value:c,disabled:d,textValue:a},e.createElement(M.div,P({role:"option","aria-labelledby":$,"data-highlighted":E?"":void 0,"aria-selected":f&&E,"data-state":f?"checked":"unchecked","aria-disabled":d||void 0,"data-disabled":d?"":void 0,tabIndex:d?void 0:-1},s,{ref:g,onFocus:I(s.onFocus,()=>N(!0)),onBlur:I(s.onBlur,()=>N(!1)),onPointerUp:I(s.onPointerUp,S),onPointerMove:I(s.onPointerMove,x=>{if(d){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}else x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(s.onPointerLeave,x=>{if(x.currentTarget===document.activeElement){var p;(p=l.onItemLeave)===null||p===void 0||p.call(l)}}),onKeyDown:I(s.onKeyDown,x=>{var p;((p=l.searchRef)===null||p===void 0?void 0:p.current)!==""&&x.key===" "||(yt.includes(x.key)&&S(),x.key===" "&&x.preventDefault())})}))))}),le="SelectItemText",zt=e.forwardRef((o,n)=>{const{__scopeSelect:t,className:c,style:d,...u}=o,s=Y(le,t),r=X(le,t),l=ke(le,t),f=Pt(le,t),[a,h]=e.useState(null),E=B(n,x=>h(x),l.onItemTextChange,x=>{var p;return(p=r.itemTextRefCallback)===null||p===void 0?void 0:p.call(r,x,l.value,l.disabled)}),N=a==null?void 0:a.textContent,g=e.useMemo(()=>e.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},N),[l.disabled,l.value,N]),{onNativeOptionAdd:$,onNativeOptionRemove:S}=f;return z(()=>($(g),()=>S(g)),[$,S,g]),e.createElement(e.Fragment,null,e.createElement(M.span,P({id:l.textId},u,{ref:E})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?_e.createPortal(u.children,s.valueNode):null)}),qt="SelectItemIndicator",Gt=e.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o;return ke(qt,t).isSelected?e.createElement(M.span,P({"aria-hidden":!0},c,{ref:n})):null}),Ne="SelectScrollUpButton",Yt=e.forwardRef((o,n)=>{const t=X(Ne,o.__scopeSelect),c=we(Ne,o.__scopeSelect),[d,u]=e.useState(!1),s=B(n,c.onScrollButtonChange);return z(()=>{if(t.viewport&&t.isPositioned){let l=function(){const f=r.scrollTop>0;u(f)};const r=t.viewport;return l(),r.addEventListener("scroll",l),()=>r.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),d?e.createElement(De,P({},o,{ref:s,onAutoScroll:()=>{const{viewport:r,selectedItem:l}=t;r&&l&&(r.scrollTop=r.scrollTop-l.offsetHeight)}})):null}),Pe="SelectScrollDownButton",Xt=e.forwardRef((o,n)=>{const t=X(Pe,o.__scopeSelect),c=we(Pe,o.__scopeSelect),[d,u]=e.useState(!1),s=B(n,c.onScrollButtonChange);return z(()=>{if(t.viewport&&t.isPositioned){let l=function(){const f=r.scrollHeight-r.clientHeight,a=Math.ceil(r.scrollTop)<f;u(a)};const r=t.viewport;return l(),r.addEventListener("scroll",l),()=>r.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),d?e.createElement(De,P({},o,{ref:s,onAutoScroll:()=>{const{viewport:r,selectedItem:l}=t;r&&l&&(r.scrollTop=r.scrollTop+l.offsetHeight)}})):null}),De=e.forwardRef((o,n)=>{const{__scopeSelect:t,onAutoScroll:c,...d}=o,u=X("SelectScrollButton",t),s=e.useRef(null),r=fe(t),l=e.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return e.useEffect(()=>()=>l(),[l]),z(()=>{var f;const a=r().find(h=>h.ref.current===document.activeElement);a==null||(f=a.ref.current)===null||f===void 0||f.scrollIntoView({block:"nearest"})},[r]),e.createElement(M.div,P({"aria-hidden":!0},d,{ref:n,style:{flexShrink:0,...d.style},onPointerDown:I(d.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(c,50))}),onPointerMove:I(d.onPointerMove,()=>{var f;(f=u.onItemLeave)===null||f===void 0||f.call(u),s.current===null&&(s.current=window.setInterval(c,50))}),onPointerLeave:I(d.onPointerLeave,()=>{l()})}))}),Zt=e.forwardRef((o,n)=>{const{__scopeSelect:t,...c}=o;return e.createElement(M.div,P({"aria-hidden":!0},c,{ref:n}))});function Oe(o){return o===""||o===void 0}const Me=e.forwardRef((o,n)=>{const{value:t,...c}=o,d=e.useRef(null),u=B(n,d),s=bt(t);return e.useEffect(()=>{const r=d.current,l=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&a){const h=new Event("change",{bubbles:!0});a.call(r,t),r.dispatchEvent(h)}},[s,t]),e.createElement(xt,{asChild:!0},e.createElement("select",P({},c,{ref:u,defaultValue:t})))});Me.displayName="BubbleSelect";function Ae(o){const n=at(o),t=e.useRef(""),c=e.useRef(0),d=e.useCallback(s=>{const r=t.current+s;n(r),function l(f){t.current=f,window.clearTimeout(c.current),f!==""&&(c.current=window.setTimeout(()=>l(""),1e3))}(r)},[n]),u=e.useCallback(()=>{t.current="",window.clearTimeout(c.current)},[]);return e.useEffect(()=>()=>window.clearTimeout(c.current),[]),[t,d,u]}function Le(o,n,t){const d=n.length>1&&Array.from(n).every(f=>f===n[0])?n[0]:n,u=t?o.indexOf(t):-1;let s=Qt(o,Math.max(u,0));d.length===1&&(s=s.filter(f=>f!==t));const l=s.find(f=>f.textValue.toLowerCase().startsWith(d.toLowerCase()));return l!==t?l:void 0}function Qt(o,n){return o.map((t,c)=>o[(n+c)%o.length])}const Jt=_t,Be=Tt,eo=jt,to=kt,oo=Dt,Ve=Ot,no=Bt,He=Ft,We=Ut,co=zt,ro=Gt,Fe=Yt,Ke=Xt,Ue=Zt,ao=Jt,so=eo,ze=e.forwardRef(({className:o,children:n,...t},c)=>i.jsxs(Be,{ref:c,className:W("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",o),...t,children:[n,i.jsx(to,{asChild:!0,children:i.jsx(Re,{className:"h-4 w-4 opacity-50"})})]}));ze.displayName=Be.displayName;const qe=e.forwardRef(({className:o,...n},t)=>i.jsx(Fe,{ref:t,className:W("flex cursor-pointer items-center justify-center py-1",o),...n,children:i.jsx(wt,{className:"h-4 w-4"})}));qe.displayName=Fe.displayName;const Ge=e.forwardRef(({className:o,...n},t)=>i.jsx(Ke,{ref:t,className:W("flex items-center justify-center py-1",o),...n,children:i.jsx(Re,{className:"h-4 w-4"})}));Ge.displayName=Ke.displayName;const Ye=e.forwardRef(({className:o,children:n,position:t="popper",...c},d)=>i.jsx(oo,{children:i.jsxs(Ve,{ref:d,className:W("relative  z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...c,children:[i.jsx(qe,{}),i.jsx(no,{className:W("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),i.jsx(Ge,{})]})}));Ye.displayName=Ve.displayName;const lo=e.forwardRef(({className:o,...n},t)=>i.jsx(He,{ref:t,className:W("py-1.5 pl-8  pr-2 text-sm font-semibold",o),...n}));lo.displayName=He.displayName;const Xe=e.forwardRef(({className:o,children:n,...t},c)=>i.jsxs(We,{ref:c,className:W("relative flex w-full cursor-pointer  select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...t,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(ro,{children:i.jsx(vt,{className:"h-4 w-4"})})}),i.jsx(co,{children:n})]}));Xe.displayName=We.displayName;const io=e.forwardRef(({className:o,...n},t)=>i.jsx(Ue,{ref:t,className:W("-mx-1 my-1 h-px bg-muted",o),...n}));io.displayName=Ue.displayName;function fo({products:o}){console.log(o);const[n,t]=e.useState(""),[c,d]=e.useState([]),[u,s]=e.useState(-1),r=e.useRef(null),{productCategory:l}=Ze().props;e.useEffect(()=>{const a=setTimeout(()=>{Qe.reload({only:["products"]})},1e3);return()=>clearTimeout(a)},[]),e.useEffect(()=>{if(o){const a=o.filter(h=>h.name.toLowerCase().includes(n.toLowerCase()));d(a),s(-1)}},[n,o]),e.useEffect(()=>{const a=h=>{r.current&&!r.current.contains(h.target)&&d([])};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const f=a=>{a.key==="ArrowDown"?s(h=>h<c.length-1?h+1:0):a.key==="ArrowUp"?s(h=>h>0?h-1:c.length-1):a.key==="Enter"&&u>=0&&(t(c[u].name),d([]))};return c.length>0,i.jsxs("div",{className:"flex flex-col relative",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h1",{className:"text-xl",children:"Produk"}),i.jsxs("div",{className:"flex gap-2 items-center top-0 sticky z-20 bg-white rounded-xl mb-5 justify-between",children:[i.jsxs("div",{ref:r,className:"relative w-full lg:w-52",children:[i.jsx(et,{placeholder:"Cari Produk",className:"w-full",value:n,onChange:a=>t(a.target.value),onKeyDown:f}),n&&c.length>0&&i.jsx("div",{className:"absolute z-10 w-full bg-white border rounded shadow-md mt-2",children:c.map((a,h)=>i.jsx("div",{className:`p-2 hover:bg-gray-200 cursor-pointer ${h===u?"bg-gray-200":""}`,onClick:()=>{t(a.name),d([])},children:a.name},a.id))})]}),i.jsxs(ao,{children:[i.jsx(ze,{className:"w-[35%] hidden",children:i.jsx(so,{placeholder:"Kategori Produk"})}),i.jsx(Ye,{children:l.map(a=>a.sub_product_categories.map((h,E)=>i.jsx(Xe,{value:h.name,children:i.jsx(be,{href:`/produk/${h.slug}`,children:h.name})},E)))})]})]})]}),o===void 0?i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 md:gap-4 lg:gap-5",children:Array.from({length:12}).map((a,h)=>i.jsxs("div",{className:"p-4 rounded-xl border",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(se,{className:"object-contain w-full h-40 md:size-48 lg:size-72 rounded-lg"})}),i.jsxs("div",{className:"flex flex-col mt-6 gap-2",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(se,{className:"w-20 h-5"})}),i.jsx(se,{className:"w-40 h-5"})]}),i.jsx("div",{className:"flex items-center mt-8 gap-2",children:i.jsx(se,{className:"w-full h-8"})})]},h))}):i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 md:gap-4 lg:gap-5",children:o.map(a=>i.jsxs("div",{className:"p-4 rounded-xl border",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{className:"object-contain w-full h-40 md:size-48 lg:size-72 rounded-lg",src:`/storage/${a.image}`,alt:a.name})}),i.jsxs("div",{className:"flex flex-col mt-6 gap-2",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("span",{className:"text-sm lg:text-2xl font-semibold",children:a.name})}),i.jsx("div",{className:"flex flex-col",children:i.jsxs("div",{className:"flex text-sm lg:text-xl items-end",children:[i.jsx(ot,{value:a.price}),i.jsx("span",{className:"text-sm",children:a.type==="box"?"/ Box":"/ Roll"})]})})]}),a.has_mockups&&i.jsx("div",{className:"flex items-center mt-8 gap-2",children:i.jsx(Je,{className:"w-full",asChild:!0,children:i.jsx(be,{href:`/produk/${a.slug}/${a.id}`,children:"Detail Produk"})})})]},a.id))})]})}fo.layout=o=>i.jsx(tt,{head:"Produk",children:o});export{fo as default};
