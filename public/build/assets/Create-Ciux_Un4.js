import{W as f,r as j,j as e}from"./app-C07MtfD9.js";import{I as h}from"./InputTextLabel-CREInD15.js";import{B as c}from"./button-K6EJszCp.js";import{I as b}from"./InputError-CfwsiH9i.js";import{S as N}from"./Spinner-D-OdtiWW.js";import{B as v}from"./bed-DtRc_xlj.js";import{I as y}from"./image-jmDFSvHq.js";import{C as I}from"./circle-x-CD0nG8Vy.js";import"./input-D9iw22-Q.js";import"./index-DnQoircM.js";import"./label-AaBqyT4Z.js";import"./circle-alert-CR7MK8J5.js";import"./createLucideIcon-BUGSgSYX.js";const T=()=>{const{data:a,setData:t,post:d,processing:n,errors:r,reset:x,progress:w}=f({name:"",image:null}),[i,m]=j.useState(null),p=s=>{var o;const l=(o=s.target.files)==null?void 0:o[0];if(l){const u=URL.createObjectURL(l);m(u),t({...a,image:l})}};function g(s){s.preventDefault(),d(route("admin.room.store"),{forceFormData:!0,onSuccess:()=>x("name","image"),preserveScroll:!0})}return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4 mt-6 p-4 bg-gray-50 border rounded-lg lg:w-4/5",children:[e.jsx(h,{variant:"wajib",labelFor:"name",labelText:"Nama ruangan",error:r&&r.name?r.name:"",inputId:"name",inputProps:{value:a.name,name:"name",type:"text",placeholder:"Masukkan ruangan",onChange:s=>{t({...a,name:s.target.value})}},children:e.jsx(v,{className:"size-5 text-gray-600 absolute z-10 top-2.5  left-2.5"})}),e.jsxs("div",{className:"flex  gap-4 w-full",children:[e.jsxs("div",{className:`flex flex-col gap-2 mt-2 ${a.image?"w-1/2":"w-full"}`,children:[e.jsxs("span",{className:"text-sm",children:["Foto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("label",{htmlFor:"image",className:"flex items-center cursor-pointer gap-2 hover:bg-slate-100 transform duration-300 flex-col justify-center p-16 bg-white border border-dashed rounded-lg border-gray-500",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",onChange:p}),e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"size-16 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-medium",children:"Upload Gambar (JPG, PNG, atau GIF)"})]})]})]}),a.image&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2 mt-2 w-1/2",children:[e.jsx("span",{className:"text-sm",children:"Preview File"}),e.jsxs("div",{className:"flex items-center rounded-xl justify-between p-2 border bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3  rounded-xl ",children:[i&&e.jsx("img",{className:"size-24 object-cover rounded-xl ",src:i,alt:""}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:a.image.name}),e.jsxs("p",{children:[a.image.size," bytes"]})]})]}),e.jsx("button",{type:"button",onClick:()=>{m(null),t({...a,image:null});const s=document.getElementById("image");s&&(s.value="")},children:e.jsx(I,{className:"size-6 text-red-500"})})]})]})})]}),e.jsx(b,{message:r.image}),e.jsxs("div",{className:"flex items-center justify-end gap-2 ",children:[e.jsx(c,{type:"reset",variant:"outline",size:"lg",className:" border-black",children:"Reset"}),e.jsx(c,{type:"submit",disabled:n,variant:"default",size:"lg",children:n?e.jsx(N,{}):e.jsx("span",{children:"Simpan"})})]})]})})};export{T as default};
