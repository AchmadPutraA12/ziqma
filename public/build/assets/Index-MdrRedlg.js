import{r as d,j as e}from"./app-C07MtfD9.js";import{C as B}from"./Checkbox-B1ITsYq4.js";import{B as v}from"./button-K6EJszCp.js";import{I as o}from"./input-D9iw22-Q.js";import{L as n}from"./label-AaBqyT4Z.js";import{G as E}from"./GuestLayout-DHhfQie2.js";import{F as b}from"./format-rupiah.esm-Dv-bfkK6.js";import{_ as m}from"./index-BVnlcnaE.js";import{A as I,a as q,b as K,c as V,d as G,f as R,g as J}from"./alert-dialog-DwDj6V_f.js";import{c as U}from"./createLucideIcon-BUGSgSYX.js";import"./index-DnQoircM.js";import"./tooltip-BWLUPqrP.js";import"./index-Cs2ZRB6I.js";import"./index-CXXWCA7a.js";import"./index-dqQXyb1b.js";import"./Combination-DJiwtqFM.js";/**
 * @license lucide-react v0.372.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Z(){const[l,A]=m("cartZiqmaCollection",[]),[r,h]=d.useState(l.map(()=>({panjang:0,lebar:0,totalPanjangLebar:0,boxYangAndaButuhkan:0,totalHargaDenganBox:0}))),D=s=>{const a=[...l];a.splice(s,1),A(a);const t=[...r];t.splice(s,1),h(t);const i=[...c];i.splice(s,1),x(i)},P=(s,a)=>{const t=[...r];t[a].panjang=Number(s.target.value),t[a].totalPanjangLebar=t[a].panjang*t[a].lebar,t[a].boxYangAndaButuhkan=Math.ceil(t[a].totalPanjangLebar/l[a].range),t[a].totalHargaDenganBox=Math.ceil(l[a].price*t[a].boxYangAndaButuhkan),h(t)},H=(s,a)=>{const t=[...r];t[a].lebar=Number(s.target.value),t[a].totalPanjangLebar=t[a].panjang*t[a].lebar,t[a].boxYangAndaButuhkan=Math.ceil(t[a].totalPanjangLebar/l[a].range),t[a].totalHargaDenganBox=Math.ceil(l[a].price*t[a].boxYangAndaButuhkan),h(t)};d.useEffect(()=>{const s=r.map((a,t)=>{const i=a.panjang*a.lebar,C=Math.ceil(i/l[t].range),z=Math.ceil(l[t].price*C);return{...a,totalPanjangLebar:i,boxYangAndaButuhkan:C,totalHargaDenganBox:z}});h(s)},[l]);const[f,g]=d.useState(!1),[c,x]=d.useState(l.map(()=>!1)),[y,F]=d.useState(0),L=()=>{const s=!f;g(s),x(l.map(()=>s))},w=s=>{const a=[...c];a[s]=!a[s],x(a),a[s]?a.every(t=>t)&&g(!0):g(!1)};d.useEffect(()=>{const s=l.reduce((a,t,i)=>c[i]?a+r[i].totalHargaDenganBox:a,0);F(s)},[c,r]);const[j,M]=m("name_user",""),[p,$]=m("email_user",""),[u,T]=m("phone_user",""),[N,Y]=m("address_user","");m("rememberMe_user",!1);const _=c.every((s,a)=>!s||r[a].panjang>0&&r[a].lebar>0),k=c.some(s=>s)&&_,S=l.filter((s,a)=>c[a]);return e.jsxs("div",{className:"mt-32 container px-4 lg:px-20 relative",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Keranjang"}),e.jsxs("div",{className:"grid grid-cols-3 mt-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(B,{className:"size-5",checked:f,onChange:L}),e.jsx("span",{children:"Produk"})]}),e.jsx("div",{className:"flex justify-center",children:"Deskripsi"})]}),e.jsx("hr",{className:"my-4"}),e.jsx("div",{className:"grid items-center grid-cols-4 gap-7 mt-6",children:l.map((s,a)=>e.jsxs("div",{className:"col-span-4 grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center  gap-4 lg:col-span-1",children:[e.jsx(B,{className:"size-5",checked:c[a],onChange:()=>w(a)}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("img",{className:"size-32 font-semibold object-cover",src:`/storage/${s.imageColorState.image}`,alt:""}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xl",children:s.name}),e.jsx("span",{children:s.imageColorState.name})]})]})]}),e.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col p-4 rounded-t-lg border border-zinc-300",children:[e.jsxs("div",{className:"grid p-2 grid-cols-2",children:[e.jsx("span",{children:"Harga/Box"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(b,{value:s.price})})]}),e.jsxs("div",{className:"grid p-2 grid-cols-2",children:[e.jsx("span",{children:"Jangkauan Area/Box"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("span",{className:"text-sm",children:[s.range," m2"]})})]}),e.jsxs("div",{className:"grid p-2 grid-cols-2",children:[e.jsx("span",{children:"Ketebalan"}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("span",{className:"text-sm",children:s.thickness})})]}),e.jsxs("div",{className:"grid p-2 grid-cols-2",children:[e.jsx("span",{children:"Ukuran/Pcs"}),e.jsxs("div",{className:"flex gap-2 items-center justify-end",children:[e.jsxs("span",{className:"text-sm",children:[s.height," cm"]}),e.jsx("span",{children:"x"}),e.jsxs("span",{className:"text-sm",children:[s.width," cm"]})]})]})]}),e.jsxs("div",{className:"border border-zinc-300  p-4",children:[e.jsxs("div",{className:"grid items-center mt-4 grid-cols-2",children:[e.jsx(n,{htmlFor:`panjang-${a}`,children:"Panjang"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{type:"text",id:`panjang-${a}`,value:r[a].panjang,onChange:t=>P(t,a)}),e.jsx("span",{className:"absolute text-sm top-1/2 right-2 -translate-y-1/2",children:"m"})]})]}),e.jsxs("div",{className:"grid items-center mt-4 grid-cols-2",children:[e.jsx(n,{htmlFor:`lebar-${a}`,children:"Lebar"}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{type:"text",id:`lebar-${a}`,value:r[a].lebar,onChange:t=>H(t,a)}),e.jsx("span",{className:"absolute text-sm top-1/2 right-2 -translate-y-1/2",children:"m"})]})]}),e.jsxs("div",{className:"grid items-center mt-4 grid-cols-2",children:[e.jsxs(n,{htmlFor:`total_area-${a}`,children:["Total Area"," ",e.jsx("span",{className:"text-red-500",children:"* (pembulatan)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{value:r[a].totalPanjangLebar,type:"text",disabled:!0,id:`total_area-${a}`}),e.jsx("span",{className:"absolute text-sm top-1/2 right-2 -translate-y-1/2",children:"m2"})]})]}),e.jsxs("div",{className:"grid items-center mt-4 grid-cols-2",children:[e.jsxs(n,{htmlFor:`box-${a}`,children:["Box"," ",e.jsx("span",{className:"text-red-500",children:"* (yang anda butuhkan)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{value:r[a].boxYangAndaButuhkan,type:"text",disabled:!0,id:`box-${a}`}),e.jsx("span",{className:"absolute text-sm top-1/2 right-2 -translate-y-1/2",children:"Box"})]})]}),e.jsxs("div",{className:"grid items-center mt-4 grid-cols-2",children:[e.jsx(n,{htmlFor:`harga-${a}`,children:"Harga"}),e.jsx(b,{value:r[a].totalHargaDenganBox})]})]})]}),e.jsx("div",{className:"flex justify-center items-center gap-1",children:e.jsx(v,{variant:"ghost",onClick:()=>D(a),children:e.jsx(W,{className:"text-red-500"})})})]},a))}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"p-4 rounded-lg border border-zinc-300 shadow-md w-full lg:w-1/3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-bold",children:"Total Harga:"}),e.jsx(b,{value:y})]}),e.jsxs(I,{children:[e.jsx(q,{asChild:!0,children:e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx(v,{className:"w-1/2",disabled:!k,children:"Beli"})})}),e.jsxs(K,{className:" h-[80vh] lg:h-auto overflow-y-auto",children:[e.jsx(V,{children:e.jsx(G,{children:"Apakah anda yakin ingin beli?"})})," ",k&&e.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[e.jsx("span",{className:"text-xl font-semibold",children:"Data Pemesan"}),e.jsxs("div",{className:"grid mt-4 items-center grid-cols-4",children:[e.jsx(n,{htmlFor:"name",className:"col-span-1",children:"Nama"}),e.jsx(o,{value:j,id:"name",onChange:s=>{M(s.target.value)},required:!0,className:"col-span-3",type:"text"})]})," ",e.jsxs("div",{className:"grid items-center grid-cols-4",children:[e.jsx(n,{htmlFor:"email",className:"col-span-1",children:"Email"}),e.jsx(o,{value:p,id:"email",onChange:s=>{$(s.target.value)},required:!0,type:"email",className:"col-span-3"})]})," ",e.jsxs("div",{className:"grid items-center grid-cols-4",children:[e.jsx(n,{htmlFor:"phone",className:"col-span-1",children:"No Whatsapp"}),e.jsx(o,{value:u,id:"phone",onChange:s=>{T(s.target.value)},required:!0,className:"col-span-3",type:"text"})]})," ",e.jsxs("div",{className:"grid items-center grid-cols-4",children:[e.jsx(n,{htmlFor:"address",className:"col-span-1",children:"Alamat"}),e.jsx(o,{value:N,id:"address",onChange:s=>{Y(s.target.value)},required:!0,className:"col-span-3",type:"text"})]})]}),e.jsxs(R,{className:"mt-5",children:[e.jsx(J,{className:"w-24",children:"Batal"}),e.jsx(v,{asChild:!0,disabled:!j||!p||!u||!N,className:"w-24",children:e.jsx("a",{href:route("user.checkout",{name:j,email:p,phone:u,address:N,cart:S.map((s,a)=>({colorProduct:s.imageColorState.name,nameProduct:s.name,priceBox:s.price,totalBox:r[a].boxYangAndaButuhkan,totalPrice:r[a].totalHargaDenganBox})),amount:y}),children:"Beli"})})]})]})]})]})})]})}Z.layout=l=>e.jsx(E,{head:"Keranjang",description:"This is the cart page",titleDescription:"Your Shopping Cart",children:l});export{Z as default};
