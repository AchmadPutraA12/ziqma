import{W as v,q as N,r as _,j as e}from"./app-C07MtfD9.js";import{B as d}from"./button-K6EJszCp.js";import{I as w}from"./InputError-CfwsiH9i.js";import{S as p}from"./SelectOptionCustom-CSUwiwcJ.js";import{S as y}from"./Spinner-D-OdtiWW.js";import{I as P}from"./image-jmDFSvHq.js";import{C}from"./circle-x-CD0nG8Vy.js";import"./index-DnQoircM.js";import"./circle-alert-CR7MK8J5.js";import"./createLucideIcon-BUGSgSYX.js";import"./label-AaBqyT4Z.js";const D=()=>{const{data:a,setData:t,post:u,processing:n,errors:i,reset:x,progress:F}=v({image:null,product_color_id:"",room_id:""}),{rooms:g,productWithProductColor:h}=N().props,[m,c]=_.useState(null),j=r=>{var o;const s=(o=r.target.files)==null?void 0:o[0];if(s){const l=URL.createObjectURL(s);c(l),t({...a,image:s})}};function f(r){r.preventDefault(),u(route("admin.product-room-mockup.store"),{forceFormData:!0,onSuccess:()=>x("image"),preserveScroll:!0})}return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:f,className:"flex flex-col gap-4 mt-6 p-4 bg-gray-50 border rounded-lg lg:w-4/5",children:[e.jsx(p,{variant:"wajib",optionName:"Pilih Ruangan",htmlFor:"room_id",labelName:"Ruangan",optionMap:g.map((r,s)=>e.jsx("option",{value:r.id,children:r.name},s)),errors:i.room_id,selectOptionProps:{name:"room_id",value:a.room_id,onChange:r=>{t({...a,room_id:r.target.value})}}})," ",e.jsx(p,{variant:"wajib",optionName:"Pilih Warna Produk",htmlFor:"product_color_id",labelName:"Warna Produk",optionMap:h.map((r,s)=>{var o;return e.jsx("optgroup",{label:r.name,children:(o=r.product_colors)==null?void 0:o.map((l,b)=>e.jsx("option",{value:l.id,children:l.name},b))},s)}),errors:i.product_color_id,selectOptionProps:{name:"product_color_id",value:a.product_color_id,onChange:r=>{t({...a,product_color_id:r.target.value})}}}),e.jsxs("div",{className:"flex  gap-4 w-full",children:[e.jsxs("div",{className:`flex flex-col gap-2 mt-2 ${a.image?"w-1/2":"w-full"}`,children:[e.jsxs("span",{className:"text-sm",children:["Foto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("label",{htmlFor:"image",className:"flex items-center cursor-pointer gap-2 hover:bg-slate-100 transform duration-300 flex-col justify-center p-16 bg-white border border-dashed rounded-lg border-gray-500",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",onChange:j}),e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"size-16 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-medium",children:"Upload Gambar (JPG, PNG, atau GIF)"})]})]})]}),a.image&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2 mt-2 w-1/2",children:[e.jsx("span",{className:"text-sm",children:"Preview File"}),e.jsxs("div",{className:"flex items-center rounded-xl justify-between p-2 border bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3  rounded-xl ",children:[m&&e.jsx("img",{className:"size-24 object-cover rounded-xl ",src:m,alt:""}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:a.image.name}),e.jsxs("p",{children:[a.image.size," bytes"]})]})]}),e.jsx("button",{type:"button",onClick:()=>{c(null),t({...a,image:null});const r=document.getElementById("image");r&&(r.value="")},children:e.jsx(C,{className:"size-6 text-red-500"})})]})]})})]}),e.jsx(w,{message:i.image}),e.jsxs("div",{className:"flex items-center justify-end gap-2 ",children:[e.jsx(d,{type:"reset",variant:"outline",size:"lg",className:" border-black",children:"Reset"}),e.jsx(d,{type:"submit",disabled:n,variant:"default",size:"lg",children:n?e.jsx(y,{}):e.jsx("span",{children:"Simpan"})})]})]})})};export{D as default};
