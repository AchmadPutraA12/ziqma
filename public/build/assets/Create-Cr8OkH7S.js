import{W as j,q as h,r as b,j as e}from"./app-C07MtfD9.js";import{I as v}from"./InputTextLabel-CREInD15.js";import{B as c}from"./button-K6EJszCp.js";import{I as N}from"./InputError-CfwsiH9i.js";import{S as y}from"./SelectOptionCustom-CSUwiwcJ.js";import{S as w}from"./Spinner-D-OdtiWW.js";import{S as I}from"./square-menu-CghZIkhs.js";import{I as S}from"./image-jmDFSvHq.js";import{C as F}from"./circle-x-CD0nG8Vy.js";import"./input-D9iw22-Q.js";import"./index-DnQoircM.js";import"./label-AaBqyT4Z.js";import"./circle-alert-CR7MK8J5.js";import"./createLucideIcon-BUGSgSYX.js";const T=()=>{const{data:r,setData:l,post:d,processing:i,errors:s,reset:p,progress:C}=j({name:"",image:null,product_id:""}),{product:u}=h().props,[n,o]=b.useState(null),x=a=>{var m;const t=(m=a.target.files)==null?void 0:m[0];if(t){const f=URL.createObjectURL(t);o(f),l({...r,image:t})}};function g(a){a.preventDefault(),d(route("admin.product-color.store"),{forceFormData:!0,onSuccess:()=>p("name","image"),preserveScroll:!0})}return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4 mt-6 p-4 bg-gray-50 border rounded-lg lg:w-4/5",children:[e.jsx(v,{variant:"wajib",labelFor:"name",labelText:"Nama warna produk",error:s&&s.name?s.name:"",inputId:"name",inputProps:{value:r.name,name:"name",type:"text",placeholder:"Masukkan warna produk",onChange:a=>{l({...r,name:a.target.value})}},children:e.jsx(I,{className:"size-5 text-gray-600 absolute z-10 top-2.5  left-2.5"})}),e.jsx(y,{variant:"wajib",optionName:"Pilih Produk",htmlFor:"product_id",labelName:"Produk",optionMap:u.map((a,t)=>e.jsxs("option",{value:a.id,children:[a.name," - ",a.type]},t)),errors:s.product_id,selectOptionProps:{name:"product_id",value:r.product_id,onChange:a=>{l({...r,product_id:a.target.value})}}}),e.jsxs("div",{className:"flex  gap-4 w-full",children:[e.jsxs("div",{className:`flex flex-col gap-2 mt-2 ${r.image?"w-1/2":"w-full"}`,children:[e.jsxs("span",{className:"text-sm",children:["Foto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("label",{htmlFor:"image",className:"flex items-center cursor-pointer gap-2 hover:bg-slate-100 transform duration-300 flex-col justify-center p-16 bg-white border border-dashed rounded-lg border-gray-500",children:[e.jsx("input",{type:"file",id:"image",className:"hidden",onChange:x}),e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"size-16 text-gray-400"}),e.jsx("span",{className:"text-gray-400 font-medium",children:"Upload Gambar (JPG, PNG, atau GIF)"})]})]})]}),r.image&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2 mt-2 w-1/2",children:[e.jsx("span",{className:"text-sm",children:"Preview File"}),e.jsxs("div",{className:"flex items-center rounded-xl justify-between p-2 border bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3  rounded-xl ",children:[n&&e.jsx("img",{className:"size-24 object-cover rounded-xl ",src:n,alt:""}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{children:r.image.name}),e.jsxs("p",{children:[r.image.size," bytes"]})]})]}),e.jsx("button",{type:"button",onClick:()=>{o(null),l({...r,image:null});const a=document.getElementById("image");a&&(a.value="")},children:e.jsx(F,{className:"size-6 text-red-500"})})]})]})})]}),e.jsx(N,{message:s.image}),e.jsxs("div",{className:"flex items-center justify-end gap-2 ",children:[e.jsx(c,{type:"reset",variant:"outline",size:"lg",className:" border-black",children:"Reset"}),e.jsx(c,{type:"submit",disabled:i,variant:"default",size:"lg",children:i?e.jsx(w,{}):e.jsx("span",{children:"Simpan"})})]})]})})};export{T as default};
